<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8"/>
  <title>Payment</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 2rem; }
    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
    .box { border: 1px solid #e3e3e3; border-radius: 8px; padding: 1rem; }
    label { display: block; margin-top: .5rem; }
    input[type="text"], input[type="number"] { width: 260px; }
  </style>
</head>
<body>
  <p><a th:href="@{'/ui/items/' + ${item.id}}">‚Üê Back to item</a></p>
  <h1>Pay Now</h1>

  <div class="grid">
    <div class="box">
      <h3>Item</h3>
      <p><b th:text="${item.name}"></b></p>
      <p>Type: <span th:text="${item.auctionType}"></span></p>
      <p>Current price: $<span th:text="${auction.currentPrice}">0</span></p>
      <p>
        Shipping: <span th:text="${expedited} ? 'Expedited' : 'Regular'"></span>
        (Regular $<span th:text="${item.shippingCostRegular}"></span>, Expedited $<span th:text="${item.shippingCostExpedited}"></span>)
      </p>
    </div>

    <div class="box">
      <h3>Payment</h3>
      <form th:action="@{'/ui/pay/' + ${item.id}}" method="post">
        <input type="hidden" name="userId" th:value="${userId}"/>
        <input type="hidden" name="expedited" th:value="${expedited}"/>

        <label>Address Street</label>
        <input type="text" name="addressStreet" th:value="${addressStreet}" required/>
        <label>City</label>
        <input type="text" name="addressCity" th:value="${addressCity}" required/>
        <label>Country</label>
        <input type="text" name="addressCountry" th:value="${addressCountry}" required/>
        <label>Postal Code</label>
        <input type="text" name="postalCode" th:value="${postalCode}" required/>

        <label>Card Number</label>
        <input type="text" name="cardNumber" required/>
        <label>Name on Card</label>
        <input type="text" name="cardName" required/>
        <label>Expiry (MM/YY)</label>
        <input type="text" name="cardExpiry" required/>
        <label>CVV</label>
        <input type="text" name="cardCvv" required/>

        <p style="margin-top:1rem"><button type="submit">Submit Payment</button></p>
      </form>
    </div>
  </div>
</body>
</html>
